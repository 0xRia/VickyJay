import { useRef, useState } from "react";
import { motion } from "framer-motion";

const DownloadButton = ({ resumeUrl }) => {
  const downloadRef = useRef(null); // Ref to hold the created anchor element

  const handleClick = () => {
    // e.preventDefault();
    const link = downloadRef.current;
    if (link) {
      link.click();
    } else {
      console.error("Download link not found"); // Handle potential errors
    }
  };

  return (
    <motion.div
      className="max-w-[200px] mx-auto md:mx-0"
      whileHover={{ scale: 1.05 }}
      whileTap={{ scale: 0.9 }}
    >
      <a
        href={resumeUrl}
        ref={downloadRef} // Assign the ref to the anchor element
        className="flex justify-center lg:flex lg:justify-start"
        download="VickyJay.pdf"
        rel="noopener noreferrer"
        onClick={handleClick} // Handle click event to trigger download
      >
        <span className="cursor-pointer bg-gradient-to-r max-w-[197px] lg:max-w-[252px] to-[#D9D9D9] from-[#D9D9D900] py-0.5 pr-0.5">
          <p className="bg-[#061417] px-[17px] py-[18px] font-medium text-[18px] font-clash">
            Download Resume
          </p>
        </span>
      </a>
    </motion.div>
  );
};

export default DownloadButton;
